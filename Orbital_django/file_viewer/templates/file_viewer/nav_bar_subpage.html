
<div id="navbar">
    <a class="awesome blue" href="/user_dashboard" placeholder="Page" style="float: left; height: 28px;">Back</a>
    <div id="scroll_page_into_view_div">
        <input type="number"/ >
        <button class="awesome blue">Go</button>
    </div>
    <div id="resize_buttons_div">
        <button class="awesome blue" style="height: 28px;" type="button" id="buttonForLarger"><i class="pe-7s-plus pe-lg"></i></button>
        <button class="awesome blue" style="height: 28px;" type="button" id="buttonForSmaller"><i class="pe-7s-less pe-lg"></i></button>
    </div>
    <button class="awesome blue" id="show_annotation_frame_button" style="height: 28px;">Show</button>
    <button class="awesome blue" id="hide_annotation_frame_button" style="height: 28px;">Hide</button>
    <button class="awesome blue" id="comment_button" data-toggle="modal" data-target="#comment_modal" style="height: 28px;">
        Comments
    </button>
    <div class="dropdown" id="annotation_color_buttons_div">
        <button class="awesome blue dropdown-toggle" style="height: 28px;" data-toggle="dropdown">Color
            <b class="caret"></b>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" style="min-width: 80%">
            <li><button type="button" class="btn btn-lg" style="border-radius: 0px; background-color: rgba(0,0,0,0.18); width:100%;" id="default_color;"></button></li> 
            <li><button type="button" class="btn btn-lg" style="border-radius: 0px; background-color: rgba(0,191,255,0.18); width:100%;" id="blue_color"></button></li>
            <li><button type="button" class="btn btn-lg" style="border-radius: 0px; background-color: rgba(127, 255, 0, 0.18); width:100%;" id="green_color"></button></li> 
            <li><button type="button" class="btn btn-lg" style="border-radius: 0px; background-color: rgba(255, 0, 0, 0.18); width:100%;" id="red_color"></button></li>
        </ul>
    </div>
    {% if collected %}
        <button class="awesome blue" style="height: 28px;" type="button" id="collect_button"><span style="height: 28px;" class="pe-7s-notebook pe-lg" aria-hidden="true"></span></button>
    {% else %}  
        <button class="awesome blue" style="height: 28px;" type="button" id="collect_button"><span style="height: 28px;" class="pe-7s-star pe-lg" aria-hidden="true"></span></button>
    {% endif %}
    <b id="num_visit" style="float: right; color: white; padding-top: 4px;">#visit: {{ document.num_visit }}</b>
    <b id="num_collect" style="float: right; color: white; padding-top: 4px;">#collect: {{ document.collectors.all|length }}</b>
</div>

<script>
    $("#collect_button").on("click", function(){
        var span = $(this).find("span");
        if (span.hasClass("pe-7s-star")) {
            layer.msg('Collected');
            span.removeClass("pe-7s-star"); 
            span.addClass("pe-7s-notebook");
            $.ajax({
                type: "POST",
                url: "",
                data: {
                    csrfmiddlewaretoken: getCookie('csrftoken'),
                    operation: "collect",
                    document_id: $("button[name='document_id']").val(),
                },
            })
        }
        else if (span.hasClass("pe-7s-notebook")) {
            layer.msg('Uncollected');
           span.removeClass("pe-7s-notebook");
           span.addClass("pe-7s-star");
            $.ajax({
                type: "POST",
                url: "",
                data: {
                    csrfmiddlewaretoken: getCookie('csrftoken'),
                    operation: "uncollect",
                    document_id: $("button[name='document_id']").val(),
                },
            })
        }
    })
    
    $("#show_annotation_frame_button").on('click', function() {
        $(".Annotation").each(function() {
            $(this).slideDown(180);
        });
    });
    $("#hide_annotation_frame_button").on('click', function() {
        $(".Annotation").each(function() {
            $(this).slideUp(180);
        });
    });
</script>